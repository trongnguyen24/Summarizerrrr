<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src 'self'; img-src 'self' data:;">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title data-i18n="title">Summarizerrrr Activation Guide</title>
    <style>
        /* Geist Font - Local */
        @font-face {
            font-family: "Geist";
            src: url("../Resources/GeistVF.ttf") format("truetype");
            font-display: swap;
        }

        /* CSS Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --color-background: oklch(0.93 0.001 286);
            --color-surface-1: oklch(0.95 0.0005 286);
            --color-surface-2: oklch(1 0 0);
            --color-text-primary: oklch(0.17 0 0);
            --color-text-secondary: oklch(0.31 0 0);
            --color-muted: oklch(0.54 0 0);
            --color-primary: oklch(69.1% 0.1909 45.02);
            --color-border: oklch(0.85 0 0);
            --color-blackwhite: oklch(0 0 0);
            --color-blackwhite-5: oklch(0 0 0 / 5%);
            --color-blackwhite-10: oklch(0 0 0 / 10%);
            --color-blackwhite-30: oklch(0 0 0 / 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: oklch(0.15 0.02 286);
                --color-surface-1: oklch(0.2 0.015 268);
                --color-surface-2: oklch(0.25 0.015 264);
                --color-text-primary: oklch(0.9 0 0);
                --color-text-secondary: oklch(0.75 0 0);
                --color-muted: oklch(0.6 0 0);
                --color-border: oklch(0.3 0.015 268);
                --color-blackwhite: oklch(1 0 0);
                --color-blackwhite-5: oklch(1 0 0 / 5%);
                --color-blackwhite-10: oklch(1 0 0 / 10%);
                --color-blackwhite-30: oklch(1 0 0 / 30%);
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--color-surface-1);
            color: var(--color-text-primary);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        .logo-container {
            width: 100%;
            margin-bottom: 2rem;
            height: 11.25rem;
            display: flex;
            background: var(--color-background);
            justify-content: center;
            overflow: hidden;
            position: relative;
            border-bottom: var(--color-border) 0.0625rem solid;
        }
        .logo {
            width: 37.5rem;
            flex-shrink: 0;
            transform: translateX(-0.75rem);
        }

        .content {
            width: 100%;
            max-width: 37.5rem;
            padding: 0 1rem;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        h1 {
            font-size: 1.25rem;
            font-weight: 700;
            text-align: center;
            color: var(--color-text-primary);
        }

        p {
            font-size: 1rem;
            line-height: 1.5;
            color: var(--color-text-secondary);
           
        }

        .steps {
            display: flex;
            flex-direction: column;
            /* font-family: 'Geist Mono', monospace; */
            gap: 1rem;
            padding: 0 1rem;
            width: 100%;
        }

        .step {
            border-radius: 0.75rem;
            display: flex;
            gap: 0.5rem;
        }

        .step-number {
            background-color: var(--color-blackwhite-5);
            color: var(--color-text-secondary);
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8125rem;
            flex-shrink: 0;
        }

        .step-text {
            font-size: 1rem;
            color: var(--color-text-secondary);
            text-align: left;
            line-height: 1.5;
        }

        .step-text b {
            color: var(--color-text-primary);
        }

        /* SVG Styles */
        .fill-background { fill: var(--color-background); }
        .stroke-blackwhite { stroke: var(--color-blackwhite); stroke-width: 0.09375rem; }
        .stroke-blackwhite\/20 { stroke: var(--color-blackwhite-10); stroke-opacity: 0.2; stroke-width: 0.09375rem; } /* Adjusted opacity handling */
        .stroke-blackwhite\/30 { stroke: var(--color-blackwhite-30); stroke-width: 0.09375rem; }
        
        .top-stripes {
            background-image: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 0.4375rem,
                var(--color-border) 0.0625rem,
                var(--color-border) 0.5rem
            );
        }

        .video-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background-color: var(--color-primary);
            color: white;
            border: none;
            border-radius: 6.25rem;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: opacity 0.2s;
            margin-top: 1rem;
            width: fit-content;
            align-self: center;
        }

        .video-button:active {
            opacity: 0.8;
        }

        video[id^="tutorialVideo"] {
            display: none;
        }

        /* Tab styles */
        .tab-container {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .tab-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1.25rem;
            border: 1px solid var(--color-border);
            background-color: var(--color-surface-1);
            color: var(--color-text-secondary);
            border-radius: 6.25rem;
            font-size: 0.9375rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-button:hover {
            background-color: var(--color-surface-2);
        }

        .tab-button.active {
            background-color: var(--color-blackwhite);
            color: var(--color-background);
            border-color: var(--color-blackwhite);
        }

        .tab-button svg {
            width: 1.125rem;
            height: 1.125rem;
        }

        .platform-content {
            display: none;
        }

        .platform-content.active {
            display: block;
        }

        /* Larger screens (macOS) - increase font sizes */
        @media (min-width: 768px) {
            .logo-container {
                height: 16rem;
                margin-bottom: 3rem;
            }

            .logo {
                width: 50rem;
            }

            .content {
                max-width: 50rem;
                gap: 2.5rem;
            }

            h1 {
                font-size: 2rem;
            }

            .tab-container {
                gap: 1rem;
                margin-bottom: 2rem;
            }

            .tab-button {
                padding: 0.875rem 1.75rem;
                font-size: 1.125rem;
            }

            .tab-button svg {
                width: 1.5rem;
                height: 1.5rem;
            }

            .steps {
                gap: 1.25rem;
            }

            .step-number {
                width: 2rem;
                height: 2rem;
                font-size: 1rem;
            }

            .step-text {
                font-size: 1.25rem;
            }

            .video-button {
                padding: 1rem 2rem;
                font-size: 1.125rem;
                margin-top: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <svg class="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 950 300" fill="none">
            <g clip-path="url(#a)">
                <path class="fill-background" d="M0 0h950v300H0z" />
                <path d="m11.333-14.667 692.82 400M161.917-45.766l692.82 400M275.25-98.433l692.82 400M282.083 393.9l692.82-400M138.083 359.567l692.82-400M15.417 311.567l692.82-400" class="stroke-blackwhite/20" stroke-dasharray="2 3" vector-effect="non-scaling-stroke" style="stroke: var(--color-blackwhite); opacity: 0.7;" />
                <path d="M602.872 90.9165c24.235 13.9915 42.366 24.4615 54.447 33.6035 12.069 9.133 18.042 16.899 18.042 25.48 0 8.58-5.973 16.347-18.043 25.48-12.081 9.141-30.212 19.611-54.447 33.603-24.235 13.992-42.369 24.46-58.202 31.435-15.82 6.968-29.271 10.417-44.133 10.417-14.862 0-28.313-3.449-44.132-10.417-15.834-6.975-33.968-17.443-58.203-31.435-24.234-13.992-42.366-24.462-54.447-33.603-12.07-9.133-18.043-16.9-18.043-25.48.001-8.581 5.973-16.347 18.042-25.48 12.081-9.142 30.213-19.612 54.448-33.6035 24.234-13.992 42.368-24.4603 58.202-31.4351 15.819-6.9685 29.271-10.4169 44.133-10.4169 14.862 0 28.314 3.4484 44.134 10.4169 15.833 6.9748 33.967 17.4431 58.202 31.4351Z" class="stroke-blackwhite/30 fill-background top-stripes" style="stroke: var(--color-blackwhite); stroke-opacity: 0.3;" />
                <circle cx="103.833" cy="103.833" r="103.333" transform="matrix(.86603 .5 -.86603 .5 500.536 46.167)" class="stroke-blackwhite/30" style="stroke: var(--color-blackwhite); stroke-opacity: 0.3;" />
                <circle cx="98.8889" cy="98.8889" r="98.3889" transform="matrix(.86603 .5 -.86603 .5 500.536 51.1094)" class="stroke-blackwhite/30" style="stroke: var(--color-blackwhite); stroke-opacity: 0.3;" />
                <circle cx="89" cy="89" r="88.5" transform="matrix(.86603 .5 -.86603 .5 491.973 65.9453)" class="stroke-blackwhite/30" style="stroke: var(--color-blackwhite); stroke-opacity: 0.3;" />
                <path fill="url(#magic-gradient)" d="m449.152 179.667 17.731-6.139c10.165-3.522 21.798-5.383 33.653-5.383 11.856 0 23.488 1.861 33.653 5.383l17.731 6.139-10.633-10.237c-6.1-5.869-9.323-12.585-9.323-19.43 0-6.844 3.223-13.56 9.323-19.429l10.633-10.237-17.731 6.139c-10.162 3.521-21.791 5.382-33.644 5.384-11.853.001-23.483-1.857-33.648-5.376l-17.745-6.147 10.647 10.245c6.095 5.868 9.314 12.583 9.312 19.426-.003 6.844-3.226 13.558-9.326 19.425l-10.633 10.237Z" />
                <g stroke-linecap="round" class="stroke-blackwhite">
                    <path vector-effect="non-scaling-stroke" d="m699.25 146.233 11.547 6.667M699.417 152.9l11.547-6.667" />
                </g>
                <g stroke-linecap="round" class="stroke-blackwhite">
                    <path vector-effect="non-scaling-stroke" d="m494.85 264.4 11.547 6.667M495.017 271.067l11.547-6.667" />
                </g>
                <g stroke-linecap="round" class="stroke-blackwhite">
                    <path vector-effect="non-scaling-stroke" d="m289.917 146.233 11.547 6.667M290.084 152.9l11.547-6.667" />
                </g>
                <g stroke-linecap="round" class="stroke-blackwhite">
                    <path vector-effect="non-scaling-stroke" d="m494.583 28.233 11.547 6.6667M494.75 34.9l11.547-6.6667" />
                </g>
            </g>
            <defs>
                <clipPath id="a">
                    <path fill="#fff" d="M0 0h950v300H0z" />
                </clipPath>
                <linearGradient id="magic-gradient" gradientTransform="rotate(30)" x1="0%" y1="0%" x2="250%" y2="0%">
                    <stop offset="0%" style="stop-color:#E0F2FE" />
                    <stop offset="25%" style="stop-color:#38BDF8" />
                    <stop offset="50%" style="stop-color:#E0F2FE" />
                    <stop offset="75%" style="stop-color:#38BDF8" />
                    <stop offset="100%" style="stop-color:#E0F2FE" />
                    <stop offset="125%" style="stop-color:#38BDF8" />
                    <stop offset="150%" style="stop-color:#E0F2FE" />
                    <stop offset="175%" style="stop-color:#38BDF8" />
                    <stop offset="200%" style="stop-color:#E0F2FE" />
                    <stop offset="225%" style="stop-color:#38BDF8" />
                    <stop offset="250%" style="stop-color:#E0F2FE" />
                    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 60 70" to="360 60 70" dur="10s" repeatCount="indefinite" />
                    <animate attributeName="x1" from="-125%" to="0%" dur="5s" repeatCount="indefinite" />
                    <animate attributeName="x2" from="125%" to="250%" dur="5s" repeatCount="indefinite" />
                </linearGradient>
            </defs>
        </svg>
    </div>

    <div class="content">
    <h1 data-i18n="title">Kích hoạt Summarizerrrr</h1>
    
    <!-- Platform Tabs -->
    <div class="tab-container">
        <button class="tab-button active" id="tab-ios" onclick="switchPlatform('ios')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
            </svg>
            <span>iOS</span>
        </button>
        <button class="tab-button" id="tab-macos" onclick="switchPlatform('macos')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <span>macOS</span>
        </button>
    </div>

    <!-- iOS Instructions -->
    <div class="platform-content active" id="content-ios">
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-text" data-i18n="ios_step1">Mở <b>Cài đặt</b> (Settings)</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text" data-i18n="ios_step2">Chọn <b>Ứng dụng</b> (Apps)</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text" data-i18n="ios_step3">Chọn <b>Safari</b></div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-text" data-i18n="ios_step4">Chọn <b>Phần mở rộng</b> (Extensions)</div>
            </div>
            <div class="step">
                <div class="step-number">5</div>
                <div class="step-text" data-i18n="ios_step5">Chọn <b>Summarizerrrr</b></div>
            </div>
            <div class="step">
                <div class="step-number">6</div>
                <div class="step-text" data-i18n="ios_step6">Bật <b>Summarizerrrr</b> và cấp quyền truy cập</div>
            </div>
        </div>
        
        <button class="video-button" onclick="playVideo('ios')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <span data-i18n="watchVideo">Xem hướng dẫn</span>
        </button>
        
        <video id="tutorialVideo-ios" playsinline preload="none" muted>
            <source src="../Ios-safari.mp4" type="video/mp4">
        </video>
    </div>

    <!-- macOS Instructions -->
    <div class="platform-content" id="content-macos">
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-text" data-i18n="macos_step1">Mở <b>Safari</b></div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text" data-i18n="macos_step2">Chọn <b>Safari → Settings</b> hoặc nhấn <b>⌘ + ,</b></div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text" data-i18n="macos_step3">Chọn tab <b>Extensions</b></div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-text" data-i18n="macos_step4">Bật <b>Summarizerrrr</b> và cấp quyền truy cập</div>
            </div>
        </div>
    </div>
    </div>
    <script>
        const translations = {
            vi: {
                title: "Kích hoạt Summarizerrrr",
                // iOS
                ios_step1: "Mở <b>Cài đặt</b> (Settings)",
                ios_step2: "Chọn <b>Ứng dụng</b> (Apps)",
                ios_step3: "Chọn <b>Safari</b>",
                ios_step4: "Chọn <b>Phần mở rộng</b> (Extensions)",
                ios_step5: "Chọn <b>Summarizerrrr</b>",
                ios_step6: "Bật <b>Summarizerrrr</b> và cấp quyền truy cập",
                // macOS
                macos_step1: "Mở <b>Safari</b>",
                macos_step2: "Chọn <b>Safari → Settings</b> hoặc nhấn <b>⌘ + ,</b>",
                macos_step3: "Chọn tab <b>Extensions</b>",
                macos_step4: "Bật <b>Summarizerrrr</b> và cấp quyền truy cập",
                watchVideo: "Xem hướng dẫn"
            },
            en: {
                title: "Activate Summarizerrrr",
                // iOS
                ios_step1: "Open <b>Settings</b>",
                ios_step2: "Select <b>Apps</b>",
                ios_step3: "Select <b>Safari</b>",
                ios_step4: "Select <b>Extensions</b>",
                ios_step5: "Select <b>Summarizerrrr</b>",
                ios_step6: "Turn on <b>Summarizerrrr</b> and allow access",
                // macOS
                macos_step1: "Open <b>Safari</b>",
                macos_step2: "Select <b>Safari → Settings</b> or press <b>⌘ + ,</b>",
                macos_step3: "Select the <b>Extensions</b> tab",
                macos_step4: "Turn on <b>Summarizerrrr</b> and allow access",
                watchVideo: "Watch Tutorial"
            }
        };

        function updateContent() {
            const userLang = navigator.language || navigator.userLanguage;
            const lang = userLang.startsWith('vi') ? 'vi' : 'en';
            const t = translations[lang];

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (t[key]) {
                    if (element.tagName === 'TITLE') {
                        element.textContent = t[key];
                    } else {
                        element.innerHTML = t[key];
                    }
                }
            });
        }

        function switchPlatform(platform) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('tab-' + platform).classList.add('active');

            // Update content visibility
            document.querySelectorAll('.platform-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('content-' + platform).classList.add('active');
        }

        function playVideo(platform) {
            const video = document.getElementById('tutorialVideo-' + platform);
            if (!video) return;
            
            // On iOS, calling play() on a video element triggers fullscreen if it's not inline or if configured to do so.
            video.style.display = 'block';
            video.style.position = 'absolute';
            video.style.width = '0.0625rem';
            video.style.height = '0.0625rem';
            video.style.opacity = '0';
            
            video.play().then(() => {
                if (video.webkitEnterFullscreen) {
                    video.webkitEnterFullscreen();
                } else if (video.requestFullscreen) {
                    video.requestFullscreen();
                }
            }).catch(e => {
                console.log('Play failed:', e);
                video.style.display = 'none';
            });

            // Reset when done or exited fullscreen
            video.addEventListener('webkitendfullscreen', () => {
                video.pause();
                video.currentTime = 0;
                video.style.display = 'none';
            });
            video.addEventListener('ended', () => {
                video.style.display = 'none';
            });
        }

        function detectPlatform() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            // Check if running on iOS (iPhone, iPad, iPod)
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                return 'ios';
            }
            // Default to macOS for desktop Safari
            return 'macos';
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateContent();
            // Auto-switch to the correct platform tab
            const platform = detectPlatform();
            switchPlatform(platform);
        });
    </script>
</body>
</html>
